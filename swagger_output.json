{
  "openapi": "3.0.0",
  "info": {
    "title": "Aeko Enhanced API",
    "version": "2.0.0",
    "description": "\n# Aeko Backend API Documentation\n\nWelcome to the comprehensive API documentation for Aeko, the **Social Media Platform** featuring advanced real-time communication.\n\n**Aeko** is a next-generation social media platform that merges the best features of short-form video sharing, microblogging, and photo-based networking, enhanced by AI capabilities. It aims to provide a decentralized, immersive, and rewarding experience for content creators and consumers alike.\nAeko combines a rich set of social features, including an enhanced chat system, AI bot personalities, and unique community tools.\n\n## üöÄ Core Features\n\n### üåê Social Features\n- **User management** and authentication\n- **Social media features** (posts, comments, likes, shares)\n- **Post ownership** and transfer system\n- **Engagement tracking** with view counting\n- **Advertisement system** with crypto payments\n- **Challenge and debate systems**\n- **Space/community features** with token gating\n- **Subscription-based content** and monetization\n- **Profile management** with status updates\n\n\n\n\n\n\n\n### üì± Enhanced Chat System\n- **Real-time messaging** with Socket.IO\n- **Voice messages** with audio recording\n- **Emoji reactions** and advanced emoji support\n- **AI Bot integration** with 7 personalities\n- **File sharing** (images, videos, documents, audio)\n- **Typing indicators** and presence management\n- **Read receipts** and message status tracking\n- **Message search** and conversation history\n- **Group chats** and advanced chat management\n\n### ü§ñ AI Bot Personalities\n1. **Friendly** üòä - Warm and approachable\n2. **Professional** üíº - Business-oriented and formal\n3. **Sarcastic** üòè - Witty with dry humor\n4. **Creative** üé® - Imaginative and artistic\n5. **Analytical** üìä - Data-driven and logical\n6. **Mentor** üßô - Educational and supportive\n7. **Companion** ü§ù - Empathetic and understanding\n\n\n## üîê Authentication\n\nMost endpoints require JWT authentication. Include your token in the Authorization header:\n```\nAuthorization: Bearer <your_jwt_token>\n```\n\n## üåê Base URL\n- **Development**: `http://localhost:5000`\n- **Production**: `https://api.aeko.com`\n\n\n\n## üì° Real-Time Communication\n\nThe enhanced chat system uses **Socket.IO** for real-time features:\n- **Endpoint**: `ws://localhost:5000`\n- **Authentication**: JWT token required\n- **Features**: Instant messaging, voice recording, emoji reactions, AI bot responses\n\n## üìÅ File Upload Support\n\n- **Maximum file size**: 100MB\n- **Supported formats**: Images (JPEG, PNG, GIF, WebP), Videos (MP4, MOV, AVI), Audio (MP3, WAV, OGG), Documents (PDF, DOC, TXT)\n- **Voice messages**: WebM audio with waveform data\n        ",
    "contact": {
      "name": "Aeko Development Team",
      "email": "dev@aeko.com"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:5000",
      "description": "Development Server"
    }
  ],
  "tags": [
    {
      "name": "Authentication",
      "description": "User authentication and authorization"
    },
    {
      "name": "Users",
      "description": "User management operations"
    },
    {
      "name": "Profile",
      "description": "User profile management"
    },
    {
      "name": "Posts",
      "description": "Social posts and feeds"
    },
    {
      "name": "Comments",
      "description": "Comments on posts"
    },
    {
      "name": "Status",
      "description": "User status and presence"
    },
    {
      "name": "Debates",
      "description": "Debate and discussion system"
    },
    {
      "name": "Challenges",
      "description": "Challenge and competition system"
    },
    {
      "name": "Spaces",
      "description": "Community spaces and groups"
    },
    {
      "name": "Chat",
      "description": "Enhanced real-time chat and messaging"
    },
    {
      "name": "Livestream",
      "description": "Enhanced livestream endpoints"
    },
    {
      "name": "Advertisements",
      "description": "Advertisement management"
    },
    {
      "name": "Payments",
      "description": "Payment processing and billing"
    },
    {
      "name": "Subscriptions",
      "description": "Subscription management"
    },
    {
      "name": "Admin",
      "description": "Admin endpoints and analytics"
    },
    {
      "name": "Interests",
      "description": "Interest management"
    },
    {
      "name": "User Interests",
      "description": "User interest management"
    },
    {
      "name": "Communities",
      "description": "Community management and interaction"
    }
  ],
  "x-tagGroups": [
    {
      "name": "Core",
      "tags": [
        "Authentication",
        "Users",
        "Profile",
        "Status"
      ]
    },
    {
      "name": "Social",
      "tags": [
        "Posts",
        "Comments",
        "Debates",
        "Challenges",
        "Spaces"
      ]
    },
    {
      "name": "Media",
      "tags": [
        "Advertisements",
        "Payments",
        "Subscriptions"
      ]
    },
    {
      "name": "Realtime",
      "tags": [
        "Chat",
        "Livestream"
      ]
    },
    {
      "name": "Admin & System",
      "tags": [
        "Admin"
      ]
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Authorization header using the Bearer scheme. Example: 'Authorization: Bearer {token}'"
      }
    },
    "schemas": {
      "Error": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          },
          "message": {
            "type": "string",
            "description": "Detailed error description"
          },
          "code": {
            "type": "integer",
            "description": "Error code"
          }
        }
      },
      "Success": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Operation success status"
          },
          "message": {
            "type": "string",
            "description": "Success message"
          },
          "data": {
            "type": "object",
            "description": "Response data"
          }
        }
      },
      "User": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "User ID"
          },
          "username": {
            "type": "string",
            "description": "Unique username"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "User email"
          },
          "profilePicture": {
            "type": "string",
            "description": "Profile picture URL"
          },
          "status": {
            "type": "string",
            "enum": [
              "online",
              "offline",
              "away",
              "busy"
            ],
            "description": "User status"
          },
          "botEnabled": {
            "type": "boolean",
            "description": "Whether AI bot auto-reply is enabled"
          },
          "botPersonality": {
            "type": "string",
            "enum": [
              "friendly",
              "professional",
              "sarcastic",
              "creative",
              "analytical",
              "mentor",
              "companion"
            ],
            "description": "Preferred AI bot personality"
          },
          "isAdmin": {
            "type": "boolean",
            "description": "Whether user has admin privileges"
          },
          "id": {
            "type": "string",
            "description": "User ID"
          },
          "name": {
            "type": "string",
            "description": "User's full name"
          },
          "bio": {
            "type": "string",
            "description": "User bio"
          },
          "blueTick": {
            "type": "boolean",
            "description": "Blue tick verification status"
          },
          "goldenTick": {
            "type": "boolean",
            "description": "Golden tick verification status"
          },
          "emailVerification": {
            "type": "object",
            "properties": {
              "isVerified": {
                "type": "boolean"
              }
            }
          },
          "profileCompletion": {
            "type": "object",
            "properties": {
              "completionPercentage": {
                "type": "number"
              },
              "hasProfilePicture": {
                "type": "boolean"
              },
              "hasBio": {
                "type": "boolean"
              },
              "hasFollowers": {
                "type": "boolean"
              },
              "hasVerifiedEmail": {
                "type": "boolean"
              }
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "example": {
          "id": "507f1f77bcf86cd799439011",
          "name": "John Doe",
          "username": "johndoe",
          "email": "john@example.com",
          "profilePicture": "https://example.com/profile.jpg",
          "bio": "Tech enthusiast",
          "blueTick": true,
          "goldenTick": false,
          "emailVerification": {
            "isVerified": true
          },
          "profileCompletion": {
            "completionPercentage": 100,
            "hasProfilePicture": true,
            "hasBio": true,
            "hasFollowers": true,
            "hasWalletConnected": true,
            "hasVerifiedEmail": true
          },
          "createdAt": "2024-01-01T12:00:00Z",
          "updatedAt": "2024-01-01T12:00:00Z"
        }
      },
      "EnhancedMessage": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Message ID"
          },
          "sender": {
            "$ref": "#/components/schemas/User",
            "type": "string"
          },
          "receiver": {
            "$ref": "#/components/schemas/User",
            "type": "string"
          },
          "chatId": {
            "type": "string",
            "description": "Chat room ID"
          },
          "messageType": {
            "type": "string",
            "enum": [
              "text",
              "voice",
              "image",
              "video",
              "file",
              "emoji",
              "sticker",
              "ai_response"
            ],
            "description": "Type of message"
          },
          "content": {
            "type": "string",
            "description": "Message content (for text, emoji, and AI responses)"
          },
          "voiceMessage": {
            "type": "object",
            "properties": {
              "url": {
                "type": "string",
                "description": "Voice file URL"
              },
              "duration": {
                "type": "number",
                "description": "Duration in seconds"
              },
              "waveform": {
                "type": "array",
                "items": {
                  "type": "number"
                },
                "description": "Audio waveform data for visualization"
              },
              "transcription": {
                "type": "string",
                "description": "AI transcription of voice message"
              }
            }
          },
          "attachments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": {
                  "type": "string",
                  "enum": [
                    "image",
                    "video",
                    "file",
                    "audio"
                  ]
                },
                "url": {
                  "type": "string"
                },
                "filename": {
                  "type": "string"
                },
                "size": {
                  "type": "integer"
                },
                "mimeType": {
                  "type": "string"
                }
              }
            }
          },
          "reactions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "string"
                },
                "emoji": {
                  "type": "string"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time"
                }
              }
            }
          },
          "isBot": {
            "type": "boolean",
            "description": "Whether this is an AI bot message"
          },
          "botPersonality": {
            "type": "string",
            "enum": [
              "friendly",
              "professional",
              "sarcastic",
              "creative",
              "analytical",
              "mentor",
              "companion"
            ],
            "description": "AI bot personality used"
          },
          "aiProvider": {
            "type": "string",
            "enum": [
              "openai",
              "claude",
              "cohere",
              "local"
            ],
            "description": "AI provider used for response"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "description": "AI response confidence score"
          },
          "status": {
            "type": "string",
            "enum": [
              "sending",
              "sent",
              "delivered",
              "read",
              "failed"
            ],
            "description": "Message delivery status"
          },
          "replyTo": {
            "type": "string",
            "description": "ID of message being replied to"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Chat": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Chat ID"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/User"
            },
            "description": "Chat participants"
          },
          "isGroup": {
            "type": "boolean",
            "description": "Whether this is a group chat"
          },
          "groupName": {
            "type": "string",
            "description": "Group chat name (if applicable)"
          },
          "lastMessage": {
            "$ref": "#/components/schemas/EnhancedMessage"
          },
          "unreadCount": {
            "type": "integer",
            "description": "Number of unread messages for current user"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EmojiCategory": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Category name"
          },
          "emojis": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of emoji unicode characters"
          }
        }
      },
      "BotPersonality": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Personality name"
          },
          "description": {
            "type": "string",
            "description": "Personality description"
          },
          "traits": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Personality traits"
          },
          "emoji": {
            "type": "string",
            "description": "Representative emoji"
          }
        }
      },
      "ChatSystemInfo": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Enhanced Real-time Chat System"
          },
          "version": {
            "type": "string",
            "example": "2.0.0"
          },
          "features": {
            "type": "object",
            "properties": {
              "realTimeMessaging": {
                "type": "boolean"
              },
              "voiceMessages": {
                "type": "boolean"
              },
              "emojiReactions": {
                "type": "boolean"
              },
              "fileSharing": {
                "type": "boolean"
              },
              "aiBotIntegration": {
                "type": "boolean"
              },
              "typingIndicators": {
                "type": "boolean"
              },
              "readReceipts": {
                "type": "boolean"
              },
              "messageSearch": {
                "type": "boolean"
              },
              "groupChats": {
                "type": "boolean"
              },
              "messageHistory": {
                "type": "boolean"
              },
              "onlineStatus": {
                "type": "boolean"
              }
            }
          },
          "statistics": {
            "type": "object",
            "properties": {
              "connectedUsers": {
                "type": "integer"
              },
              "totalActiveConnections": {
                "type": "integer"
              },
              "supportedFileTypes": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "maxFileSize": {
                "type": "string"
              },
              "supportedEmojis": {
                "type": "string"
              },
              "aiPersonalities": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "Post": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Post ID"
          },
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "originalOwner": {
            "$ref": "#/components/schemas/User"
          },
          "text": {
            "type": "string",
            "description": "Post text content"
          },
          "media": {
            "type": "string",
            "description": "Media URL (image or video)"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "video"
            ],
            "description": "Post type"
          },
          "privacy": {
            "type": "object",
            "description": "Privacy settings for the post",
            "properties": {
              "level": {
                "type": "string",
                "enum": [
                  "public",
                  "followers",
                  "select_users",
                  "only_me"
                ],
                "description": "Privacy level of the post",
                "default": "public"
              },
              "selectedUsers": {
                "type": "array",
                "items": {
                  "type": "string",
                  "description": "User ID"
                },
                "description": "Array of user IDs for 'select_users' privacy level"
              },
              "updatedAt": {
                "type": "string",
                "format": "date-time",
                "description": "When privacy settings were last updated"
              },
              "updateHistory": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "previousLevel": {
                      "type": "string",
                      "description": "Previous privacy level"
                    },
                    "newLevel": {
                      "type": "string",
                      "description": "New privacy level"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "updatedBy": {
                      "type": "string",
                      "description": "User ID who made the change"
                    }
                  }
                },
                "description": "Audit trail of privacy changes"
              }
            }
          },
          "views": {
            "type": "integer",
            "description": "Total post views"
          },
          "uniqueViewers": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of unique viewer IDs"
          },
          "transferHistory": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "fromUser": {
                  "type": "string"
                },
                "toUser": {
                  "type": "string"
                },
                "transferDate": {
                  "type": "string",
                  "format": "date-time"
                },
                "reason": {
                  "type": "string"
                }
              }
            }
          },
          "engagement": {
            "type": "object",
            "properties": {
              "totalShares": {
                "type": "integer"
              },
              "totalComments": {
                "type": "integer"
              },
              "totalLikes": {
                "type": "integer"
              },
              "engagementRate": {
                "type": "number"
              }
            }
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Status": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Status ID"
          },
          "userId": {
            "$ref": "#/components/schemas/User"
          },
          "type": {
            "type": "string",
            "enum": [
              "text",
              "image",
              "video",
              "shared_post"
            ],
            "description": "Status type"
          },
          "content": {
            "type": "string",
            "description": "Status content (text or media URL)"
          },
          "reactions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "userId": {
                  "type": "string",
                  "description": "User ID who reacted"
                },
                "emoji": {
                  "type": "string",
                  "description": "Emoji reaction"
                }
              }
            },
            "description": "User reactions to the status"
          },
          "sharedPost": {
            "type": "string",
            "description": "ID of the original post (for shared_post type)",
            "nullable": true
          },
          "originalContent": {
            "type": "object",
            "description": "Preserved content from the original shared post",
            "properties": {
              "text": {
                "type": "string",
                "description": "Original post text"
              },
              "media": {
                "type": "string",
                "description": "Original post media URL"
              },
              "type": {
                "type": "string",
                "enum": [
                  "text",
                  "image",
                  "video"
                ],
                "description": "Original post type"
              },
              "creator": {
                "type": "string",
                "description": "Original post creator ID"
              },
              "createdAt": {
                "type": "string",
                "format": "date-time",
                "description": "Original post creation date"
              }
            }
          },
          "shareMetadata": {
            "type": "object",
            "description": "Metadata about the sharing action",
            "properties": {
              "sharedAt": {
                "type": "string",
                "format": "date-time",
                "description": "When the post was shared"
              },
              "sharedBy": {
                "type": "string",
                "description": "User ID who shared the post"
              }
            }
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time",
            "description": "When the status expires (24 hours from creation)"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PhotoEditRequest": {
        "type": "object",
        "properties": {
          "filter": {
            "type": "string",
            "enum": [
              "greyscale",
              "blur",
              "rotate"
            ],
            "description": "Type of filter to apply to the photo"
          }
        },
        "required": [
          "filter"
        ]
      },
      "PhotoEditResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "url": {
            "type": "string",
            "description": "URL to the edited photo"
          },
          "error": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "VideoEditRequest": {
        "type": "object",
        "properties": {
          "effect": {
            "type": "string",
            "enum": [
              "grayscale",
              "negate",
              "blur"
            ],
            "description": "Type of effect to apply to the video"
          }
        },
        "required": [
          "effect"
        ]
      },
      "VideoEditResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "url": {
            "type": "string",
            "description": "URL to the edited video"
          },
          "error": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "WebRTCSignal": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Socket ID of the target user"
          },
          "offer": {
            "type": "object",
            "description": "WebRTC offer SDP",
            "nullable": true
          },
          "answer": {
            "type": "object",
            "description": "WebRTC answer SDP",
            "nullable": true
          },
          "candidate": {
            "type": "object",
            "description": "ICE candidate",
            "nullable": true
          }
        }
      },
      "Advertisement": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "Advertisement ID"
          },
          "title": {
            "type": "string",
            "description": "Advertisement title",
            "example": "Summer Sale - 50% Off"
          },
          "description": {
            "type": "string",
            "description": "Advertisement description",
            "example": "Don't miss our biggest summer sale with amazing discounts!"
          },
          "mediaType": {
            "type": "string",
            "enum": [
              "image",
              "video",
              "text",
              "carousel"
            ],
            "description": "Type of media content"
          },
          "mediaUrl": {
            "type": "string",
            "description": "URL of the main media file"
          },
          "targetAudience": {
            "type": "object",
            "properties": {
              "age": {
                "type": "object",
                "properties": {
                  "min": {
                    "type": "number",
                    "example": 18
                  },
                  "max": {
                    "type": "number",
                    "example": 65
                  }
                }
              },
              "location": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "United States",
                  "Canada"
                ]
              },
              "interests": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "example": [
                  "fashion",
                  "shopping"
                ]
              },
              "gender": {
                "type": "string",
                "enum": [
                  "all",
                  "male",
                  "female",
                  "other"
                ],
                "example": "all"
              }
            }
          },
          "budget": {
            "type": "object",
            "properties": {
              "total": {
                "type": "number",
                "example": 1000
              },
              "daily": {
                "type": "number",
                "example": 50
              },
              "spent": {
                "type": "number",
                "example": 150
              },
              "currency": {
                "type": "string",
                "enum": [
                  "USD",
                  "AEKO"
                ],
                "example": "USD"
              }
            }
          },
          "pricing": {
            "type": "object",
            "properties": {
              "model": {
                "type": "string",
                "enum": [
                  "cpm",
                  "cpc",
                  "cpa"
                ],
                "description": "Cost per thousand impressions, click, or action"
              },
              "bidAmount": {
                "type": "number",
                "example": 2.5
              }
            }
          },
          "campaign": {
            "type": "object",
            "properties": {
              "objective": {
                "type": "string",
                "enum": [
                  "awareness",
                  "traffic",
                  "engagement",
                  "conversions",
                  "app_installs"
                ]
              },
              "schedule": {
                "type": "object",
                "properties": {
                  "startDate": {
                    "type": "string",
                    "format": "date-time"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date-time"
                  }
                }
              }
            }
          },
          "status": {
            "type": "string",
            "enum": [
              "draft",
              "pending",
              "approved",
              "rejected",
              "running",
              "paused",
              "completed",
              "expired"
            ]
          },
          "analytics": {
            "type": "object",
            "properties": {
              "impressions": {
                "type": "number",
                "example": 15000
              },
              "clicks": {
                "type": "number",
                "example": 350
              },
              "ctr": {
                "type": "number",
                "example": 2.33
              },
              "conversions": {
                "type": "number",
                "example": 25
              },
              "conversionRate": {
                "type": "number",
                "example": 7.14
              }
            }
          },
          "advertiserId": {
            "$ref": "#/components/schemas/User"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": [
          "title",
          "description",
          "mediaType",
          "budget",
          "campaign"
        ]
      },
      "BotSettings": {
        "type": "object",
        "properties": {
          "botEnabled": {
            "type": "boolean"
          },
          "botPersonality": {
            "type": "string",
            "enum": [
              "friendly",
              "professional",
              "sarcastic",
              "creative",
              "analytical",
              "mentor",
              "companion"
            ]
          },
          "aiProvider": {
            "type": "string",
            "enum": [
              "openai",
              "claude",
              "cohere",
              "local"
            ]
          },
          "model": {
            "type": "string"
          },
          "maxTokens": {
            "type": "number"
          },
          "contextLength": {
            "type": "number"
          },
          "temperature": {
            "type": "number"
          }
        }
      },
      "Community": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "The community ID"
          },
          "name": {
            "type": "string",
            "description": "The community name"
          },
          "description": {
            "type": "string",
            "description": "Community description"
          },
          "profile": {
            "type": "object",
            "properties": {
              "avatar": {
                "type": "string",
                "description": "URL to community avatar"
              },
              "coverPhoto": {
                "type": "string",
                "description": "URL to community cover photo"
              },
              "website": {
                "type": "string",
                "description": "Community website URL"
              },
              "location": {
                "type": "string",
                "description": "Community location"
              }
            }
          },
          "owner": {
            "type": "string",
            "description": "ID of the community owner"
          },
          "moderators": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "List of moderator user IDs"
          },
          "members": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "user": {
                  "type": "string",
                  "description": "User ID"
                },
                "joinedAt": {
                  "type": "string",
                  "format": "date-time"
                },
                "role": {
                  "type": "string",
                  "enum": [
                    "member",
                    "moderator"
                  ]
                }
              }
            }
          },
          "settings": {
            "type": "object",
            "properties": {
              "isPrivate": {
                "type": "boolean",
                "default": false
              },
              "requireApproval": {
                "type": "boolean",
                "default": false
              },
              "canPost": {
                "type": "boolean",
                "default": true
              },
              "canComment": {
                "type": "boolean",
                "default": true
              },
              "payment": {
                "type": "object",
                "properties": {
                  "isPaidCommunity": {
                    "type": "boolean",
                    "default": false
                  },
                  "price": {
                    "type": "number",
                    "default": 0
                  },
                  "currency": {
                    "type": "string",
                    "default": "USD"
                  },
                  "subscriptionType": {
                    "type": "string",
                    "enum": [
                      "one_time",
                      "monthly",
                      "yearly"
                    ],
                    "default": "one_time"
                  },
                  "paymentAddress": {
                    "type": "string"
                  }
                }
              },
              "postSettings": {
                "type": "object",
                "properties": {
                  "allowImages": {
                    "type": "boolean",
                    "default": true
                  },
                  "allowVideos": {
                    "type": "boolean",
                    "default": true
                  },
                  "allowLinks": {
                    "type": "boolean",
                    "default": true
                  },
                  "requireApproval": {
                    "type": "boolean",
                    "default": false
                  }
                }
              }
            }
          },
          "memberCount": {
            "type": "number",
            "description": "Number of community members"
          },
          "isActive": {
            "type": "boolean",
            "default": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CommunityPost": {
        "type": "object",
        "properties": {
          "_id": {
            "type": "string",
            "description": "The post ID"
          },
          "content": {
            "type": "string",
            "description": "Post content"
          },
          "author": {
            "$ref": "#/components/schemas/User"
          },
          "community": {
            "$ref": "#/components/schemas/Community"
          },
          "media": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "url": {
                  "type": "string"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "image",
                    "video",
                    "file"
                  ]
                }
              }
            }
          },
          "likes": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of user IDs who liked the post"
          },
          "comments": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of comment IDs"
          },
          "shares": {
            "type": "number",
            "default": 0
          },
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "active",
              "archived"
            ],
            "default": "active"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "System"
        ],
        "summary": "System health check",
        "description": "Get system health status and feature availability",
        "responses": {
          "200": {
            "description": "System health information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "example": "OK"
                    },
                    "timestamp": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "services": {
                      "type": "object",
                      "properties": {
                        "mongodb": {
                          "type": "string",
                          "example": "Connected"
                        },
                        "socket": {
                          "type": "string",
                          "example": "Active"
                        },
                        "chat": {
                          "type": "string",
                          "example": "Enhanced Chat System Ready"
                        },
                        "ai": {
                          "type": "string",
                          "example": "AI Bot Integrated"
                        }
                      }
                    },
                    "features": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/chat-info": {
      "get": {
        "tags": [
          "Enhanced Chat",
          "System"
        ],
        "summary": "Get enhanced chat system information",
        "description": "Retrieve detailed information about the enhanced chat system capabilities and statistics",
        "responses": {
          "200": {
            "description": "Chat system information",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "chatSystem": {
                          "$ref": "#/components/schemas/ChatSystemInfo"
                        },
                        "connectedUsers": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "userId": {
                                "type": "string"
                              },
                              "username": {
                                "type": "string"
                              },
                              "status": {
                                "type": "string"
                              },
                              "lastSeen": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          }
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/photo/edit": {
      "post": {
        "tags": [
          "File Upload",
          "Photo Effects"
        ],
        "summary": "Apply a filter to a photo",
        "description": "Upload a photo and apply a filter (greyscale, blur, rotate). Returns the URL to the edited photo.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "photo": {
                    "type": "string",
                    "format": "binary",
                    "description": "Photo file to upload"
                  },
                  "filter": {
                    "type": "string",
                    "enum": [
                      "greyscale",
                      "blur",
                      "rotate"
                    ],
                    "description": "Type of filter to apply"
                  }
                },
                "required": [
                  "photo",
                  "filter"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Edited photo URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhotoEditResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error editing photo",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PhotoEditResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/video/edit": {
      "post": {
        "tags": [
          "File Upload",
          "Video Effects"
        ],
        "summary": "Apply an effect to a video",
        "description": "Upload a video and apply an effect (grayscale, negate, blur). Returns the URL to the edited video.",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "video": {
                    "type": "string",
                    "format": "binary",
                    "description": "Video file to upload"
                  },
                  "effect": {
                    "type": "string",
                    "enum": [
                      "grayscale",
                      "negate",
                      "blur"
                    ],
                    "description": "Type of effect to apply"
                  }
                },
                "required": [
                  "video",
                  "effect"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Edited video URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoEditResponse"
                }
              }
            }
          },
          "500": {
            "description": "Error editing video",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VideoEditResponse"
                }
              }
            }
          }
        }
      }
    },
    "/socket.io/webrtc-signaling": {
      "post": {
        "tags": [
          "WebRTC Calls"
        ],
        "summary": "WebRTC signaling event (socket.io)",
        "description": "\n                    Use socket.io to emit and listen for the following events for video/voice calls:\n                    - call-offer: Send a WebRTC offer to another user\n                    - call-answer: Send a WebRTC answer in response to an offer\n                    - ice-candidate: Exchange ICE candidates for peer connection\n                    \n\n\n                    Example socket.io payloads:\n                    - call-offer: { target: '<socketId>', offer: { ...SDP } }\n                    - call-answer: { target: '<socketId>', answer: { ...SDP } }\n                    - ice-candidate: { target: '<socketId>', candidate: { ...ICE } }\n                ",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WebRTCSignal"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Signal relayed successfully (socket.io emits to target)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/websocket": {
      "get": {
        "tags": [
          "WebRTC Calls",
          "Enhanced Chat",
          "System"
        ],
        "summary": "WebSocket (Socket.IO) API Documentation",
        "description": "\nConnect to the WebSocket server for real-time features (chat, video/voice calls, notifications, etc.).\n\n**WebSocket URL:**\n- ws://localhost:5000 (Socket.IO)\n\n**Authentication:**\n- Pass JWT token as a query parameter or in the connection payload:\n  - Example: io('ws://localhost:5000', { query: { token: '<JWT>' } })\n\n**Key Events:**\n- **Chat:**\n  - send-message: { chatId, content }\n  - receive-message: { chatId, sender, content, timestamp }\n- **Video/Voice Calls:**\n  - call-offer: { target, offer }\n  - call-answer: { target, answer }\n  - ice-candidate: { target, candidate }\n- **Presence:**\n  - user-online: { userId }\n  - user-offline: { userId }\n\n**Example Connection (JS):**\n```js\nconst socket = io('ws://localhost:5000', { query: { token: '<JWT>' } });\nsocket.on('receive-message', (msg) => { ... });\nsocket.emit('send-message', { chatId, content });\n```\n\n\n**See /api-docs for full event and payload details.**\n                ",
        "responses": {
          "200": {
            "description": "WebSocket documentation page (Markdown)",
            "content": {
              "text/markdown": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/ads": {
      "post": {
        "summary": "Create new advertisement",
        "tags": [
          "Advertisements"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "description",
                  "mediaType",
                  "budget",
                  "pricing",
                  "campaign"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "example": "Summer Sale - 50% Off"
                  },
                  "description": {
                    "type": "string",
                    "example": "Don't miss our biggest summer sale!"
                  },
                  "mediaType": {
                    "type": "string",
                    "enum": [
                      "image",
                      "video",
                      "text",
                      "carousel"
                    ]
                  },
                  "mediaUrl": {
                    "type": "string",
                    "example": "https://example.com/ad-image.jpg"
                  },
                  "targetAudience": {
                    "type": "object",
                    "properties": {
                      "age": {
                        "type": "object",
                        "properties": {
                          "min": {
                            "type": "number",
                            "example": 18
                          },
                          "max": {
                            "type": "number",
                            "example": 45
                          }
                        }
                      },
                      "location": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "United States"
                        ]
                      },
                      "interests": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        },
                        "example": [
                          "fashion",
                          "shopping"
                        ]
                      }
                    }
                  },
                  "budget": {
                    "type": "object",
                    "required": [
                      "total"
                    ],
                    "properties": {
                      "total": {
                        "type": "number",
                        "example": 1000
                      },
                      "daily": {
                        "type": "number",
                        "example": 50
                      },
                      "currency": {
                        "type": "string",
                        "enum": [
                          "USD",
                          "AEKO"
                        ],
                        "example": "USD"
                      }
                    }
                  },
                  "pricing": {
                    "type": "object",
                    "required": [
                      "model",
                      "bidAmount"
                    ],
                    "properties": {
                      "model": {
                        "type": "string",
                        "enum": [
                          "cpm",
                          "cpc",
                          "cpa"
                        ]
                      },
                      "bidAmount": {
                        "type": "number",
                        "example": 2.5
                      }
                    }
                  },
                  "campaign": {
                    "type": "object",
                    "required": [
                      "objective",
                      "schedule"
                    ],
                    "properties": {
                      "objective": {
                        "type": "string",
                        "enum": [
                          "awareness",
                          "traffic",
                          "engagement",
                          "conversions",
                          "app_installs"
                        ]
                      },
                      "schedule": {
                        "type": "object",
                        "required": [
                          "startDate",
                          "endDate"
                        ],
                        "properties": {
                          "startDate": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "endDate": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  },
                  "callToAction": {
                    "type": "object",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "learn_more",
                          "shop_now",
                          "sign_up",
                          "download",
                          "contact_us",
                          "visit_website"
                        ]
                      },
                      "url": {
                        "type": "string"
                      },
                      "text": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Advertisement created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Advertisement created successfully and submitted for review"
                    },
                    "ad": {
                      "$ref": "#/components/schemas/Advertisement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - validation errors"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      },
      "get": {
        "summary": "Get user's advertisements",
        "tags": [
          "Advertisements"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "Filter ads by status",
            "schema": {
              "type": "string",
              "enum": [
                "draft",
                "pending",
                "approved",
                "rejected",
                "running",
                "paused",
                "completed",
                "expired"
              ]
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of ads per page",
            "schema": {
              "type": "integer",
              "default": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User advertisements retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "ads": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Advertisement"
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "current": {
                              "type": "integer"
                            },
                            "pages": {
                              "type": "integer"
                            },
                            "total": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/targeted": {
      "get": {
        "summary": "Get targeted advertisements for user",
        "tags": [
          "Advertisements"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "description": "Number of ads to return",
            "schema": {
              "type": "integer",
              "default": 5
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Targeted ads retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "ads": {
                          "type": "array",
                          "items": {
                            "$ref": "#/components/schemas/Advertisement"
                          }
                        },
                        "count": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/track/impression": {
      "post": {
        "summary": "Track advertisement impression",
        "tags": [
          "Advertisements",
          "Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "adId"
                ],
                "properties": {
                  "adId": {
                    "type": "string",
                    "description": "Advertisement ID"
                  },
                  "metadata": {
                    "type": "object",
                    "properties": {
                      "age": {
                        "type": "number"
                      },
                      "location": {
                        "type": "string"
                      },
                      "device": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Impression tracked successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "404": {
            "description": "Advertisement not found"
          }
        }
      }
    },
    "/api/ads/track/click": {
      "post": {
        "summary": "Track advertisement click",
        "tags": [
          "Advertisements",
          "Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "adId"
                ],
                "properties": {
                  "adId": {
                    "type": "string",
                    "description": "Advertisement ID"
                  },
                  "metadata": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Click tracked successfully"
          }
        }
      }
    },
    "/api/ads/track/conversion": {
      "post": {
        "summary": "Track advertisement conversion",
        "tags": [
          "Advertisements",
          "Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "adId"
                ],
                "properties": {
                  "adId": {
                    "type": "string"
                  },
                  "conversionValue": {
                    "type": "number"
                  },
                  "conversionType": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conversion tracked successfully"
          }
        }
      }
    },
    "/api/ads/{adId}/analytics": {
      "get": {
        "summary": "Get advertisement analytics",
        "tags": [
          "Advertisements",
          "Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "adId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "timeRange",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "7d"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Analytics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "overview": {
                          "type": "object",
                          "properties": {
                            "impressions": {
                              "type": "number"
                            },
                            "clicks": {
                              "type": "number"
                            },
                            "ctr": {
                              "type": "number"
                            },
                            "conversions": {
                              "type": "number"
                            },
                            "conversionRate": {
                              "type": "number"
                            },
                            "performanceScore": {
                              "type": "number"
                            }
                          }
                        },
                        "budget": {
                          "type": "object",
                          "properties": {
                            "total": {
                              "type": "number"
                            },
                            "spent": {
                              "type": "number"
                            },
                            "remaining": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/{adId}": {
      "put": {
        "summary": "Update advertisement",
        "tags": [
          "Advertisements"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "adId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "status": {
                    "type": "string",
                    "enum": [
                      "draft",
                      "pending",
                      "running",
                      "paused"
                    ]
                  },
                  "budget": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Advertisement updated successfully"
          }
        }
      },
      "delete": {
        "summary": "Delete advertisement",
        "tags": [
          "Advertisements"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "adId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Advertisement deleted successfully"
          },
          "400": {
            "description": "Cannot delete running advertisement"
          }
        }
      }
    },
    "/api/ads/dashboard": {
      "get": {
        "summary": "Get advertisement dashboard",
        "tags": [
          "Advertisements",
          "Analytics"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "timeRange",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "30d"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalAds": {
                              "type": "number"
                            },
                            "activeAds": {
                              "type": "number"
                            },
                            "totalSpent": {
                              "type": "number"
                            },
                            "totalImpressions": {
                              "type": "number"
                            },
                            "totalClicks": {
                              "type": "number"
                            },
                            "averageCTR": {
                              "type": "number"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/ads/admin/review": {
      "get": {
        "summary": "Get advertisements for admin review",
        "tags": [
          "Advertisements",
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "schema": {
              "type": "string",
              "default": "pending"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Ads for review retrieved successfully"
          }
        }
      }
    },
    "/api/ads/admin/review/{adId}": {
      "post": {
        "summary": "Review advertisement (admin only)",
        "tags": [
          "Advertisements",
          "Admin"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "adId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "status"
                ],
                "properties": {
                  "status": {
                    "type": "string",
                    "enum": [
                      "approved",
                      "rejected"
                    ]
                  },
                  "rejectionReason": {
                    "type": "string"
                  },
                  "feedback": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Advertisement reviewed successfully"
          }
        }
      }
    },
    "/api/auth/signup": {
      "post": {
        "summary": "User registration with email verification",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "username",
                  "email",
                  "password"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "User's full name",
                    "example": "John Doe"
                  },
                  "username": {
                    "type": "string",
                    "description": "Unique username",
                    "example": "johndoe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "User's email address",
                    "example": "john@example.com"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6,
                    "description": "User's password",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully, verification code sent",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Registration successful! Check your email for verification code"
                    },
                    "userId": {
                      "type": "string",
                      "description": "User ID for verification"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - validation errors"
          },
          "409": {
            "description": "User already exists"
          }
        }
      }
    },
    "/api/auth/verify-email": {
      "post": {
        "summary": "Verify email with 4-digit code",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "verificationCode"
                ],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "User ID from registration"
                  },
                  "verificationCode": {
                    "type": "string",
                    "pattern": "^[0-9]{4}$",
                    "description": "4-digit verification code",
                    "example": "1234"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email verified successfully"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT authentication token"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or expired code"
          }
        }
      }
    },
    "/api/auth/resend-verification": {
      "post": {
        "summary": "Resend verification code",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId"
                ],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "User ID"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "New verification code sent"
          },
          "429": {
            "description": "Rate limit exceeded"
          }
        }
      }
    },
    "/api/auth/login": {
      "post": {
        "summary": "User login",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "john@example.com"
                  },
                  "password": {
                    "type": "string",
                    "example": "password123"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful login",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Login successful"
                    },
                    "token": {
                      "type": "string",
                      "description": "JWT authentication token"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials or unverified email"
          }
        }
      }
    },
    "/api/auth/profile-completion": {
      "get": {
        "summary": "Get profile completion status",
        "tags": [
          "Authentication",
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Profile completion status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "profileCompletion": {
                      "type": "object",
                      "properties": {
                        "completionPercentage": {
                          "type": "number",
                          "example": 80
                        },
                        "hasProfilePicture": {
                          "type": "boolean"
                        },
                        "hasBio": {
                          "type": "boolean"
                        },
                        "hasFollowers": {
                          "type": "boolean"
                        },
                        "hasVerifiedEmail": {
                          "type": "boolean"
                        },
                        "blueTick": {
                          "type": "boolean"
                        },
                        "nextSteps": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/auth/forgot-password": {
      "post": {
        "summary": "Request password reset for user",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  }
                },
                "example": {
                  "email": "john@example.com"
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email sent successfully"
          },
          "400": {
            "description": "Bad request (e.g. invalid email)"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/auth/google": {
      "get": {
        "summary": "Redirect to Google for OAuth login/signup",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "302": {
            "description": "Redirects to Google OAuth consent screen"
          }
        }
      }
    },
    "/api/auth/google/callback": {
      "get": {
        "summary": "Google OAuth callback. Issues JWT and redirects to frontend",
        "tags": [
          "Authentication"
        ],
        "responses": {
          "302": {
            "description": "Redirects to success or failure URL after issuing JWT"
          },
          "401": {
            "description": "OAuth failed"
          }
        }
      }
    },
    "/api/auth/google/mobile": {
      "post": {
        "summary": "Google OAuth for mobile apps (React Native)",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "idToken"
                ],
                "properties": {
                  "idToken": {
                    "type": "string",
                    "description": "Google ID token from mobile SDK"
                  },
                  "user": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      },
                      "email": {
                        "type": "string"
                      },
                      "photo": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "token": {
                      "type": "string"
                    },
                    "deepLink": {
                      "type": "string",
                      "description": "Deep link URL for mobile app navigation",
                      "example": "aeko://(home)?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - missing ID token"
          },
          "401": {
            "description": "Invalid ID token"
          }
        }
      }
    },
    "/api/bot-settings": {
      "put": {
        "summary": "Enable/Disable Smart Bot",
        "tags": [
          "Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "botEnabled",
                  "botPersonality"
                ],
                "properties": {
                  "botEnabled": {
                    "type": "boolean"
                  },
                  "botPersonality": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "sarcastic"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Smart Bot settings updated successfully"
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/api/chat": {
      "post": {
        "summary": "Interact with the Smart Bot",
        "tags": [
          "Bot"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  }
                },
                "required": [
                  "message"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bot reply returned successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "403": {
            "description": "Bot is disabled"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/chat/send-message": {
      "post": {
        "summary": "Send a message",
        "tags": [
          "Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "recipientId",
                  "message"
                ],
                "properties": {
                  "recipientId": {
                    "type": "string"
                  },
                  "message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message sent successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/chat/bot-settings": {
      "put": {
        "summary": "Update Smart Bot settings",
        "tags": [
          "Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "botEnabled",
                  "botPersonality"
                ],
                "properties": {
                  "botEnabled": {
                    "type": "boolean"
                  },
                  "botPersonality": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "sarcastic"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Smart Bot settings updated successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/community/payment/initialize": {
      "post": {
        "summary": "Initialize community payment",
        "description": "Initialize payment for joining a paid community. Requires authentication.",
        "tags": [
          "Community Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "communityId",
                  "paymentMethod"
                ],
                "properties": {
                  "communityId": {
                    "type": "string",
                    "description": "ID of the community to join"
                  },
                  "paymentMethod": {
                    "type": "string",
                    "enum": [
                      "paystack",
                      "stripe"
                    ],
                    "description": "Payment method to use"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "authorizationUrl": {
                      "type": "string"
                    },
                    "reference": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request or payment method not configured"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Community or user not found"
          }
        }
      }
    },
    "/api/community/payment/verify": {
      "get": {
        "summary": "Verify community payment",
        "description": "Verify payment status and grant community membership if successful. No authentication required as this is called from payment provider callback.",
        "tags": [
          "Community Payments"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "reference",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Payment reference from initialization"
          },
          {
            "in": "query",
            "name": "paymentMethod",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "paystack",
                "stripe"
              ]
            },
            "description": "Payment method used"
          }
        ],
        "responses": {
          "200": {
            "description": "Payment verified successfully and membership granted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Payment verification failed or invalid reference"
          },
          "404": {
            "description": "Transaction not found"
          }
        }
      }
    },
    "/api/community/withdraw": {
      "post": {
        "summary": "Request withdrawal of community earnings",
        "description": "Request withdrawal of available community earnings. Only community owner can withdraw. Requires authentication and owner authorization.",
        "tags": [
          "Community Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "communityId",
                  "amount",
                  "method",
                  "details"
                ],
                "properties": {
                  "communityId": {
                    "type": "string",
                    "description": "ID of the community"
                  },
                  "amount": {
                    "type": "number",
                    "description": "Amount to withdraw (must not exceed available balance)",
                    "minimum": 0.01
                  },
                  "method": {
                    "type": "string",
                    "enum": [
                      "bank"
                    ],
                    "description": "Withdrawal method"
                  },
                  "details": {
                    "type": "object",
                    "description": "Withdrawal details (required for bank transfers)",
                    "properties": {
                      "accountNumber": {
                        "type": "string"
                      },
                      "bankCode": {
                        "type": "string"
                      },
                      "accountName": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Withdrawal request submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request, insufficient balance, or invalid community ID"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - only community owner can withdraw"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/community/{communityId}/transactions": {
      "get": {
        "summary": "Get community transaction history with filtering and statistics",
        "description": "Retrieve transaction history for a community with pagination and filtering. Only community owner can view transactions. Requires authentication and owner authorization.",
        "tags": [
          "Community Payments"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "communityId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Number of transactions per page (max 100)"
          },
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "completed",
                "failed",
                "refunded"
              ]
            },
            "description": "Filter by transaction status"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter transactions from this date (ISO 8601 format, e.g., 2024-01-01)"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Filter transactions until this date (ISO 8601 format, e.g., 2024-12-31)"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns list of transactions with summary statistics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "transactions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "_id": {
                                "type": "string"
                              },
                              "user": {
                                "type": "object"
                              },
                              "amount": {
                                "type": "number"
                              },
                              "status": {
                                "type": "string"
                              },
                              "paymentMethod": {
                                "type": "string"
                              },
                              "createdAt": {
                                "type": "string"
                              }
                            }
                          }
                        },
                        "summary": {
                          "type": "object",
                          "properties": {
                            "totalEarnings": {
                              "type": "number"
                            },
                            "pending": {
                              "type": "object"
                            },
                            "completed": {
                              "type": "object"
                            },
                            "failed": {
                              "type": "object"
                            }
                          }
                        },
                        "pagination": {
                          "type": "object",
                          "properties": {
                            "currentPage": {
                              "type": "integer"
                            },
                            "totalPages": {
                              "type": "integer"
                            },
                            "totalTransactions": {
                              "type": "integer"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request parameters or community ID format"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - only community owner can view transactions"
          },
          "404": {
            "description": "Community not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/communities/{id}/profile": {
      "put": {
        "summary": "Update community profile",
        "description": "Update community profile information. Only community owner or moderators can update. Requires authentication and authorization.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "minLength": 3,
                    "maxLength": 50
                  },
                  "description": {
                    "type": "string",
                    "maxLength": 500
                  },
                  "website": {
                    "type": "string",
                    "format": "uri"
                  },
                  "location": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Community profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Community"
                }
              }
            }
          },
          "400": {
            "description": "Validation error"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Not authorized to update this community"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/upload-photo": {
      "post": {
        "summary": "Upload community avatar or cover photo",
        "description": "Upload community photo. Only community owner or moderators can upload. Requires authentication and authorization.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          },
          {
            "in": "query",
            "name": "type",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "avatar",
                "cover"
              ]
            },
            "description": "Type of photo to upload"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "required": [
                  "photo"
                ],
                "properties": {
                  "photo": {
                    "type": "string",
                    "format": "binary"
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "avatar",
                      "cover"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Photo uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "avatar": {
                          "type": "string"
                        },
                        "coverPhoto": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "No file uploaded or invalid file type"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Not authorized to update this community"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/settings": {
      "put": {
        "summary": "Update community settings",
        "description": "Update community settings including payment and post settings. Only community owner can update settings. Requires authentication and owner authorization.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "settings": {
                    "type": "object",
                    "properties": {
                      "payment": {
                        "type": "object",
                        "properties": {
                          "isPaidCommunity": {
                            "type": "boolean"
                          },
                          "price": {
                            "type": "number"
                          },
                          "currency": {
                            "type": "string"
                          },
                          "subscriptionType": {
                            "type": "string",
                            "enum": [
                              "one_time",
                              "monthly",
                              "yearly"
                            ]
                          },
                          "paymentAddress": {
                            "type": "string"
                          }
                        }
                      },
                      "postSettings": {
                        "type": "object",
                        "properties": {
                          "allowImages": {
                            "type": "boolean"
                          },
                          "allowVideos": {
                            "type": "boolean"
                          },
                          "allowLinks": {
                            "type": "boolean"
                          },
                          "requireApproval": {
                            "type": "boolean"
                          },
                          "requireMembershipToPost": {
                            "type": "boolean"
                          }
                        }
                      },
                      "isPrivate": {
                        "type": "boolean"
                      },
                      "requireApproval": {
                        "type": "boolean"
                      },
                      "canPost": {
                        "type": "boolean"
                      },
                      "canComment": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Community settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Community"
                }
              }
            }
          },
          "400": {
            "description": "Validation error or invalid community ID"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Only community owner can update settings"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/follow": {
      "post": {
        "summary": "Follow a community (without joining chat)",
        "description": "Follow a community without joining the chat. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully followed the community"
          },
          "400": {
            "description": "Already following this community or already a member"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/unfollow": {
      "post": {
        "summary": "Unfollow a community",
        "description": "Unfollow a community. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully unfollowed the community"
          },
          "400": {
            "description": "Not following or invalid request"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/posts": {
      "post": {
        "summary": "Create a post in community",
        "description": "Create a post in a community. Requires active membership. For paid communities, requires active subscription. Requires authentication and membership authorization.",
        "tags": [
          "Community Posts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "content": {
                    "type": "string",
                    "description": "Post content"
                  },
                  "media": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "maxItems": 10,
                    "description": "Media files (images, videos)"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Post created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CommunityPost"
                }
              }
            }
          },
          "400": {
            "description": "Validation error or invalid community ID"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Not authorized to post in this community"
          },
          "404": {
            "description": "Community not found"
          }
        }
      },
      "get": {
        "summary": "Get community posts",
        "description": "Retrieve posts from a community. Private communities require membership. Paid communities require active subscription. Requires authentication.",
        "tags": [
          "Community Posts"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          }
        ],
        "responses": {
          "200": {
            "description": "List of community posts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CommunityPost"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid community ID format"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Not authorized to view posts in this community"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities": {
      "post": {
        "summary": "Create a new community",
        "description": "Create a new community. Only users with golden tick can create communities. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "description"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Community name",
                    "minLength": 3,
                    "maxLength": 50
                  },
                  "description": {
                    "type": "string",
                    "minLength": 10,
                    "description": "Community description (minimum 10 characters)",
                    "maxLength": 500
                  },
                  "isPrivate": {
                    "type": "boolean",
                    "default": false,
                    "description": "Whether the community is private"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Community tags"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Community created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Community"
                }
              }
            }
          },
          "400": {
            "description": "Invalid input"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "User doesn't have permission to create a community"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "get": {
        "summary": "Get all communities",
        "description": "Retrieve a list of all active communities with pagination and search",
        "tags": [
          "Communities"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 10
            },
            "description": "Items per page"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search term for community name or description"
          }
        ],
        "responses": {
          "200": {
            "description": "List of communities",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Community"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "total": {
                          "type": "integer"
                        },
                        "page": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/communities/{id}": {
      "get": {
        "summary": "Get community by ID",
        "description": "Retrieve detailed information about a specific community. Private communities require membership. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Community details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Community"
                }
              }
            }
          },
          "400": {
            "description": "Invalid community ID format"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Not authorized to view this community (if private)"
          },
          "404": {
            "description": "Community not found"
          }
        }
      },
      "put": {
        "summary": "Update community",
        "description": "Update community details. Only community owner or moderators can update. Requires authentication and authorization.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string",
                    "minLength": 10
                  },
                  "isPrivate": {
                    "type": "boolean"
                  },
                  "tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "settings": {
                    "type": "object"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Community updated successfully"
          },
          "400": {
            "description": "Validation error or invalid community ID"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Forbidden - only owner or moderators can update"
          },
          "404": {
            "description": "Community not found"
          }
        }
      },
      "delete": {
        "summary": "Delete a community",
        "description": "Delete a community permanently. Only community owner can delete. Requires authentication and owner authorization.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Community deleted successfully"
          },
          "400": {
            "description": "Invalid community ID format"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Only the community owner can delete the community"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/join": {
      "post": {
        "summary": "Join a community",
        "description": "Join a community. For paid communities, payment is required first. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully joined the community",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "requiresApproval": {
                      "type": "boolean",
                      "description": "True if the community requires admin approval"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Already a member of this community"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "402": {
            "description": "Payment required - this is a paid community"
          },
          "403": {
            "description": "Community is private and requires approval"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/communities/{id}/leave": {
      "post": {
        "summary": "Leave a community",
        "description": "Leave a community. Community owners cannot leave their own community. Requires authentication.",
        "tags": [
          "Communities"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Community ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully left the community"
          },
          "400": {
            "description": "Not a member of this community"
          },
          "401": {
            "description": "Unauthorized - authentication required"
          },
          "403": {
            "description": "Community owner cannot leave (must transfer ownership first)"
          },
          "404": {
            "description": "Community not found"
          }
        }
      }
    },
    "/api/enhanced-bot/chat": {
      "post": {
        "summary": "Chat with Enhanced AI Bot",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "message"
                ],
                "properties": {
                  "message": {
                    "type": "string"
                  },
                  "instruction": {
                    "type": "string"
                  },
                  "personalityOverride": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bot response generated successfully"
          },
          "403": {
            "description": "Bot is disabled"
          }
        }
      }
    },
    "/api/enhanced-bot/settings": {
      "get": {
        "summary": "Get user's bot settings",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Bot settings retrieved successfully"
          }
        }
      },
      "put": {
        "summary": "Update bot settings",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BotSettings"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Settings updated successfully"
          }
        }
      }
    },
    "/api/enhanced-bot/personalities": {
      "get": {
        "summary": "Get available bot personalities",
        "tags": [
          "Enhanced Bot"
        ],
        "responses": {
          "200": {
            "description": "Available personalities retrieved successfully"
          }
        }
      }
    },
    "/api/enhanced-bot/conversation-history": {
      "get": {
        "summary": "Get conversation history",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "number"
            },
            "description": "Number of conversations to retrieve"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "number"
            },
            "description": "Page number"
          }
        ],
        "responses": {
          "200": {
            "description": "Conversation history retrieved successfully"
          }
        }
      }
    },
    "/api/enhanced-bot/analytics": {
      "get": {
        "summary": "Get bot usage analytics",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Analytics retrieved successfully"
          }
        }
      }
    },
    "/api/enhanced-bot/generate-image": {
      "post": {
        "summary": "Generate image using AI",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "prompt"
                ],
                "properties": {
                  "prompt": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Image generated successfully"
          },
          "403": {
            "description": "Image generation not available"
          }
        }
      }
    },
    "/api/enhanced-bot/summarize-conversation": {
      "post": {
        "summary": "Summarize conversation history",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "days": {
                    "type": "number",
                    "default": 7
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Conversation summarized successfully"
          }
        }
      }
    },
    "/api/enhanced-bot/rate-response": {
      "post": {
        "summary": "Rate bot response",
        "tags": [
          "Enhanced Bot"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "conversationId",
                  "rating"
                ],
                "properties": {
                  "conversationId": {
                    "type": "string"
                  },
                  "rating": {
                    "type": "number",
                    "minimum": 1,
                    "maximum": 5
                  },
                  "feedback": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Response rated successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/conversations": {
      "get": {
        "summary": "Get user's conversations",
        "tags": [
          "Enhanced Chat"
        ],
        "description": "Retrieve paginated list of user's conversations with unread message counts and last message preview",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Conversations retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/enhanced-chat/messages/{chatId}": {
      "get": {
        "summary": "Get messages for a chat",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "chatId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            }
          },
          {
            "in": "query",
            "name": "before",
            "schema": {
              "type": "string"
            },
            "description": "Message ID to load messages before"
          }
        ],
        "responses": {
          "200": {
            "description": "Messages retrieved successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/send-message": {
      "post": {
        "summary": "Send a text message",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "receiverId": {
                    "type": "string"
                  },
                  "chatId": {
                    "type": "string"
                  },
                  "content": {
                    "type": "string"
                  },
                  "messageType": {
                    "type": "string",
                    "enum": [
                      "text",
                      "emoji"
                    ]
                  },
                  "replyToId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Message sent successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/upload-voice": {
      "post": {
        "summary": "Upload a voice message",
        "tags": [
          "Enhanced Chat",
          "Voice Messages"
        ],
        "description": "Upload recorded voice message with waveform data and automatic duration detection",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "formData",
            "name": "voice",
            "type": "file",
            "required": true
          },
          {
            "in": "formData",
            "name": "receiverId",
            "type": "string",
            "required": true
          },
          {
            "in": "formData",
            "name": "chatId",
            "type": "string",
            "required": true
          },
          {
            "in": "formData",
            "name": "duration",
            "type": "number",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "Voice message uploaded successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/upload-file": {
      "post": {
        "summary": "Upload a file/image/video",
        "tags": [
          "Enhanced Chat",
          "File Upload"
        ],
        "description": "Upload files up to 100MB with automatic type detection and thumbnail generation",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "responses": {
          "200": {
            "description": "File uploaded successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/emoji-reactions/{messageId}": {
      "post": {
        "summary": "Add emoji reaction to message",
        "tags": [
          "Enhanced Chat",
          "Emoji System"
        ],
        "description": "Add emoji reaction to a specific message with real-time synchronization",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "emoji": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reaction added successfully"
          }
        }
      },
      "delete": {
        "summary": "Remove emoji reaction from message",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "messageId",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "emoji",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Reaction removed successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/bot-chat": {
      "post": {
        "summary": "Chat with AI bot",
        "tags": [
          "Enhanced Chat",
          "AI Bot"
        ],
        "description": "Send message to AI bot with customizable personality and get intelligent response",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  },
                  "chatId": {
                    "type": "string"
                  },
                  "personality": {
                    "type": "string",
                    "enum": [
                      "friendly",
                      "professional",
                      "sarcastic",
                      "creative",
                      "analytical",
                      "mentor",
                      "companion"
                    ]
                  },
                  "instruction": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Bot response generated successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/create-chat": {
      "post": {
        "summary": "Create a new chat",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "participants": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "isGroup": {
                    "type": "boolean"
                  },
                  "groupName": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Chat created successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/mark-read/{chatId}": {
      "post": {
        "summary": "Mark all messages in chat as read",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "chatId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Messages marked as read successfully"
          }
        }
      }
    },
    "/api/enhanced-chat/search": {
      "get": {
        "summary": "Search messages",
        "tags": [
          "Enhanced Chat"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chatId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "messageType",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Search results"
          }
        }
      }
    },
    "/api/enhanced-chat/emoji-list": {
      "get": {
        "summary": "Get popular emojis list",
        "tags": [
          "Enhanced Chat",
          "Emoji System"
        ],
        "description": "Retrieve categorized list of popular emojis for chat interface",
        "responses": {
          "200": {
            "description": "Emoji list retrieved successfully"
          }
        }
      }
    },
    "/api/explore": {
      "get": {
        "summary": "Get explore feed with trending content, suggested users, and communities",
        "tags": [
          "Explore"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of posts per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Explore feed retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/interests": {
      "post": {
        "summary": "Create a new interest (Admin only)",
        "tags": [
          "Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name",
                  "displayName"
                ],
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "displayName": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "icon": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Interest created successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "409": {
            "description": "Interest already exists"
          }
        }
      },
      "get": {
        "summary": "Get all active interests",
        "tags": [
          "Interests"
        ],
        "responses": {
          "200": {
            "description": "List of active interests",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Interest"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/interests/{id}": {
      "put": {
        "summary": "Update an interest (Admin only)",
        "tags": [
          "Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "displayName": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "icon": {
                    "type": "string"
                  },
                  "isActive": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Interest updated successfully"
          },
          "404": {
            "description": "Interest not found"
          }
        }
      },
      "delete": {
        "summary": "Delete an interest (Admin only)",
        "tags": [
          "Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Interest deleted successfully"
          },
          "404": {
            "description": "Interest not found"
          }
        }
      }
    },
    "/api/payments/pay": {
      "post": {
        "summary": "Initiate a payment",
        "description": "Initiates a payment and returns a payment link",
        "tags": [
          "Payments"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number",
                    "description": "Amount to be paid"
                  },
                  "currency": {
                    "type": "string",
                    "description": "Currency for the payment"
                  }
                },
                "required": [
                  "amount",
                  "currency"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment link generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "link": {
                      "type": "string",
                      "description": "Payment link"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/api/payments/verify": {
      "get": {
        "summary": "Verify a payment",
        "description": "Verifies the payment status using the payment ID",
        "tags": [
          "Payments"
        ],
        "parameters": [
          {
            "in": "query",
            "name": "paymentId",
            "required": true,
            "description": "ID of the payment to verify",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment verified successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "description": "Status of the payment (e.g., \"successful\", \"failed\")"
                    },
                    "amount": {
                      "type": "number",
                      "description": "Amount paid"
                    },
                    "currency": {
                      "type": "string",
                      "description": "Currency used in the transaction"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/api/posts/transfer": {
      "post": {
        "summary": "Transfer a post to another user",
        "tags": [
          "Post Transfer"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "postId",
                  "toUserId"
                ],
                "properties": {
                  "postId": {
                    "type": "string",
                    "description": "ID of the post to transfer"
                  },
                  "toUserId": {
                    "type": "string",
                    "description": "ID of the user to transfer to"
                  },
                  "reason": {
                    "type": "string",
                    "description": "Optional reason for transfer"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Post transferred successfully"
          },
          "400": {
            "description": "Invalid request"
          },
          "403": {
            "description": "Not authorized to transfer this post"
          },
          "404": {
            "description": "Post or user not found"
          }
        }
      }
    },
    "/api/posts/transfer-history/{postId}": {
      "get": {
        "summary": "Get transfer history of a post",
        "tags": [
          "Post Transfer"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "postId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Post ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Transfer history retrieved successfully"
          },
          "404": {
            "description": "Post not found"
          }
        }
      }
    },
    "/api/profile": {
      "get": {
        "summary": "Get user profile",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User profile retrieved successfully"
          },
          "401": {
            "description": "Unauthorized"
          },
          "403": {
            "description": "Forbidden"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/profile/update": {
      "put": {
        "summary": "Update user profile",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string"
                  },
                  "profilePic": {
                    "type": "string"
                  },
                  "bio": {
                    "type": "string"
                  }
                }
              },
              "example": {
                "username": "newUsername",
                "email": "newemail@example.com",
                "profilePic": "https://res.cloudinary.com/demo/image/upload/v1/aeko/images/pic.jpg",
                "bio": "Updated bio text"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User profile updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/profile/change-password": {
      "put": {
        "summary": "Change user password",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "currentPassword",
                  "newPassword"
                ],
                "properties": {
                  "currentPassword": {
                    "type": "string"
                  },
                  "newPassword": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Password changed successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/profile/delete-account": {
      "delete": {
        "summary": "Delete user account",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User account deleted successfully"
          },
          "401": {
            "description": "Unauthorized"
          }
        }
      }
    },
    "/api/profile/followers": {
      "get": {
        "summary": "Get list of followers",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of followers retrieved successfully"
          }
        }
      }
    },
    "/api/profile/following": {
      "get": {
        "summary": "Get list of users the current user is following",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of following users retrieved successfully"
          }
        }
      }
    },
    "/api/profile/follow/{userId}": {
      "put": {
        "summary": "Follow a user",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully followed the user"
          }
        }
      }
    },
    "/api/profile/unfollow/{userId}": {
      "delete": {
        "summary": "Unfollow a user",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully unfollowed the user"
          }
        }
      }
    },
    "/api/security/block/{userId}": {
      "post": {
        "summary": "Block a user",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the user to block"
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "reason": {
                    "type": "string",
                    "description": "Optional reason for blocking"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User blocked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "blockedUser": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (cannot block yourself, user already blocked)"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "delete": {
        "summary": "Unblock a user",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the user to unblock"
          }
        ],
        "responses": {
          "200": {
            "description": "User unblocked successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "User is not blocked"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/blocked": {
      "get": {
        "summary": "Get list of blocked users",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of results per page"
          }
        ],
        "responses": {
          "200": {
            "description": "List of blocked users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "blockedUsers": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "username": {
                            "type": "string"
                          },
                          "profilePicture": {
                            "type": "string"
                          },
                          "blockedAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "reason": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "currentPage": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        },
                        "totalCount": {
                          "type": "integer"
                        },
                        "hasNext": {
                          "type": "boolean"
                        },
                        "hasPrev": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/block-status/{userId}": {
      "get": {
        "summary": "Check if a user is blocked",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the user to check block status for"
          }
        ],
        "responses": {
          "200": {
            "description": "Block status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isBlocked": {
                      "type": "boolean"
                    },
                    "isBlockedBy": {
                      "type": "boolean"
                    },
                    "canInteract": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/privacy": {
      "put": {
        "summary": "Update privacy settings",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "isPrivate": {
                    "type": "boolean",
                    "description": "Make account private"
                  },
                  "allowFollowRequests": {
                    "type": "boolean",
                    "description": "Allow follow requests for private accounts"
                  },
                  "showOnlineStatus": {
                    "type": "boolean",
                    "description": "Show online status to others"
                  },
                  "allowDirectMessages": {
                    "type": "string",
                    "enum": [
                      "everyone",
                      "followers",
                      "none"
                    ],
                    "description": "Who can send direct messages"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Privacy settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "privacy": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid privacy settings"
          },
          "500": {
            "description": "Server error"
          }
        }
      },
      "get": {
        "summary": "Get current privacy settings",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Privacy settings retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "privacy": {
                      "type": "object",
                      "properties": {
                        "isPrivate": {
                          "type": "boolean"
                        },
                        "allowFollowRequests": {
                          "type": "boolean"
                        },
                        "showOnlineStatus": {
                          "type": "boolean"
                        },
                        "allowDirectMessages": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/follow-request/{userId}": {
      "post": {
        "summary": "Send a follow request",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "userId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the user to send follow request to"
          }
        ],
        "responses": {
          "200": {
            "description": "Follow request sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "direct_follow",
                        "follow_request"
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request (already following, request already sent, etc.)"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/follow-request/{requesterId}": {
      "put": {
        "summary": "Handle a follow request (approve or reject)",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "requesterId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "ID of the user who sent the follow request"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "enum": [
                      "approve",
                      "reject"
                    ],
                    "description": "Action to take on the follow request"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Follow request handled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "action": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid action or request not found"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/follow-requests": {
      "get": {
        "summary": "Get follow requests",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "status",
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "approved",
                "rejected",
                "all"
              ],
              "default": "pending"
            },
            "description": "Filter by request status"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of results per page"
          }
        ],
        "responses": {
          "200": {
            "description": "Follow requests retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requests": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "user": {
                            "type": "object",
                            "properties": {
                              "_id": {
                                "type": "string"
                              },
                              "username": {
                                "type": "string"
                              },
                              "name": {
                                "type": "string"
                              },
                              "profilePicture": {
                                "type": "string"
                              }
                            }
                          },
                          "requestedAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "status": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "currentPage": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        },
                        "totalRequests": {
                          "type": "integer"
                        },
                        "hasNextPage": {
                          "type": "boolean"
                        },
                        "hasPrevPage": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/setup": {
      "post": {
        "summary": "Initialize 2FA setup",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "2FA setup initialized successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "secret": {
                      "type": "string",
                      "description": "Base32 encoded secret for manual entry"
                    },
                    "qrCode": {
                      "type": "string",
                      "description": "Base64 encoded QR code image"
                    },
                    "manualEntryKey": {
                      "type": "string",
                      "description": "Manual entry key for authenticator apps"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "2FA already enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/verify-setup": {
      "post": {
        "summary": "Complete 2FA setup with verification",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "secret": {
                    "type": "string",
                    "description": "The secret key from setup"
                  },
                  "token": {
                    "type": "string",
                    "description": "6-digit TOTP token from authenticator app"
                  }
                },
                "required": [
                  "secret",
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "2FA enabled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "backupCodes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "description": "Backup codes for account recovery"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid token or 2FA already enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/verify": {
      "post": {
        "summary": "Verify 2FA token during login",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "6-digit TOTP token from authenticator app"
                  }
                },
                "required": [
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "2FA verification successful",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "verified": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid token or 2FA not enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa": {
      "delete": {
        "summary": "Disable 2FA",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string",
                    "description": "Current account password"
                  },
                  "token": {
                    "type": "string",
                    "description": "6-digit TOTP token from authenticator app"
                  }
                },
                "required": [
                  "password",
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "2FA disabled successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid password/token or 2FA not enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/backup-codes": {
      "post": {
        "summary": "Generate new backup codes",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "description": "6-digit TOTP token from authenticator app"
                  }
                },
                "required": [
                  "token"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Backup codes generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "backupCodes": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid token or 2FA not enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/backup-verify": {
      "post": {
        "summary": "Verify backup code for emergency access",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string",
                    "description": "8-character backup code"
                  }
                },
                "required": [
                  "code"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Backup code verification result",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "message": {
                      "type": "string"
                    },
                    "verified": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid backup code or 2FA not enabled"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/2fa/status": {
      "get": {
        "summary": "Get 2FA status",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "2FA status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "isEnabled": {
                      "type": "boolean"
                    },
                    "enabledAt": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "lastUsed": {
                      "type": "string",
                      "format": "date-time"
                    },
                    "backupCodesCount": {
                      "type": "integer"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/events": {
      "get": {
        "summary": "Get user's security events",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "eventType",
            "schema": {
              "type": "string",
              "enum": [
                "block",
                "unblock",
                "privacy_change",
                "follow_request_sent",
                "follow_request_approved",
                "follow_request_rejected",
                "2fa_enabled",
                "2fa_disabled",
                "2fa_used",
                "backup_code_used",
                "backup_codes_generated"
              ]
            },
            "description": "Filter by event type"
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "default": 50
            },
            "description": "Number of results per page"
          },
          {
            "in": "query",
            "name": "startDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "Start date for filtering events"
          },
          {
            "in": "query",
            "name": "endDate",
            "schema": {
              "type": "string",
              "format": "date"
            },
            "description": "End date for filtering events"
          }
        ],
        "responses": {
          "200": {
            "description": "Security events retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "events": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "eventType": {
                            "type": "string"
                          },
                          "targetUser": {
                            "type": "object"
                          },
                          "metadata": {
                            "type": "object"
                          },
                          "timestamp": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "success": {
                            "type": "boolean"
                          }
                        }
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "page": {
                          "type": "integer"
                        },
                        "limit": {
                          "type": "integer"
                        },
                        "total": {
                          "type": "integer"
                        },
                        "pages": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/security/stats": {
      "get": {
        "summary": "Get user's security statistics",
        "tags": [
          "Security"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "days",
            "schema": {
              "type": "integer",
              "default": 30
            },
            "description": "Number of days to look back for statistics"
          }
        ],
        "responses": {
          "200": {
            "description": "Security statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "_id": {
                        "type": "string",
                        "description": "Event type"
                      },
                      "count": {
                        "type": "integer",
                        "description": "Number of events"
                      },
                      "lastOccurrence": {
                        "type": "string",
                        "format": "date-time",
                        "description": "Last occurrence of this event type"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/spaces/create": {
      "post": {
        "summary": "Create a Live Audio Space",
        "tags": [
          "Spaces"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Title of the space"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Space created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "space": {
                      "$ref": "#/components/schemas/Space"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          }
        }
      }
    },
    "/api/spaces/{spaceId}/end": {
      "patch": {
        "summary": "End a Live Audio Space",
        "tags": [
          "Spaces"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "spaceId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Space ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Space ended successfully"
          },
          "403": {
            "description": "Only host can end space"
          },
          "404": {
            "description": "Space not found"
          }
        }
      }
    },
    "/api/spaces/{spaceId}/highlight": {
      "put": {
        "summary": "Add a video highlight to a space",
        "tags": [
          "Spaces"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "spaceId",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Space ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "videoUrl"
                ],
                "properties": {
                  "videoUrl": {
                    "type": "string",
                    "description": "URL of the highlight video"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Highlight added successfully"
          },
          "404": {
            "description": "Space not found"
          }
        }
      }
    },
    "/api/status": {
      "post": {
        "summary": "Create a new status (image, text, or video)",
        "tags": [
          "Status"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "type",
                  "content"
                ],
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "text",
                      "image",
                      "video"
                    ]
                  },
                  "content": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Status created successfully"
          },
          "400": {
            "description": "Bad request"
          }
        }
      },
      "get": {
        "summary": "Get active statuses from followers",
        "tags": [
          "Status"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of active statuses",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "statuses": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_id": {
                            "type": "string"
                          },
                          "userId": {
                            "type": "object"
                          },
                          "type": {
                            "type": "string",
                            "enum": [
                              "text",
                              "image",
                              "video",
                              "shared_post"
                            ]
                          },
                          "content": {
                            "type": "string"
                          },
                          "sharedPostData": {
                            "type": "object",
                            "properties": {
                              "originalPost": {
                                "type": "object"
                              },
                              "shareInfo": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/status/{id}": {
      "delete": {
        "summary": "Delete a status",
        "tags": [
          "Status"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Status deleted successfully"
          }
        }
      }
    },
    "/api/status/{id}/react": {
      "post": {
        "summary": "React to a status",
        "tags": [
          "Status"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "emoji"
                ],
                "properties": {
                  "emoji": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Reaction added successfully"
          }
        }
      }
    },
    "/api/subscription/subscribe": {
      "post": {
        "summary": "Subscribe to Golden Tick",
        "tags": [
          "Subscription"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "userId",
                  "paymentSuccess"
                ],
                "properties": {
                  "userId": {
                    "type": "string",
                    "description": "Unique identifier of the user"
                  },
                  "paymentSuccess": {
                    "type": "boolean",
                    "description": "Status of payment transaction"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Golden Tick activated successfully"
          },
          "400": {
            "description": "Bad request, invalid input"
          },
          "401": {
            "description": "Unauthorized, authentication required"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/user/interests": {
      "get": {
        "summary": "Get user's interests",
        "tags": [
          "User Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "User's interests",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Interest"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update user's interests",
        "tags": [
          "User Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "interestIds"
                ],
                "properties": {
                  "interestIds": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "description": "Array of interest IDs"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Interests updated successfully"
          },
          "400": {
            "description": "Invalid interest IDs"
          }
        }
      }
    },
    "/api/user/interests/{interestId}": {
      "delete": {
        "summary": "Remove an interest from user's interests",
        "tags": [
          "User Interests"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "interestId",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Interest removed successfully"
          },
          "404": {
            "description": "Interest not found in user's interests"
          }
        }
      }
    },
    "/api/users/register": {
      "post": {
        "summary": "Register a new user",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "username",
                  "email",
                  "password"
                ],
                "properties": {
                  "username": {
                    "type": "string"
                  },
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 6
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "User registered successfully"
          },
          "400": {
            "description": "Bad request"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/users/login": {
      "post": {
        "summary": "Login with email and password",
        "tags": [
          "Authentication"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login successful"
          },
          "401": {
            "description": "Invalid credentials"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/users/{id}": {
      "get": {
        "summary": "Get user by ID",
        "tags": [
          "Users"
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^[a-fA-F0-9]{24}$",
              "example": "68cad398b391bdd7d991d5c7"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "User retrieved"
          },
          "404": {
            "description": "User not found"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/users": {
      "get": {
        "summary": "Get all users",
        "tags": [
          "Users"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Page number for pagination"
          },
          {
            "in": "query",
            "name": "limit",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "description": "Number of users per page"
          },
          {
            "in": "query",
            "name": "search",
            "schema": {
              "type": "string"
            },
            "description": "Search users by name or username"
          }
        ],
        "responses": {
          "200": {
            "description": "List of users retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "users": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/User"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "currentPage": {
                          "type": "integer"
                        },
                        "totalPages": {
                          "type": "integer"
                        },
                        "totalUsers": {
                          "type": "integer"
                        },
                        "hasNext": {
                          "type": "boolean"
                        },
                        "hasPrev": {
                          "type": "boolean"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    },
    "/api/users/profile-picture": {
      "put": {
        "summary": "Upload or update profile picture",
        "tags": [
          "Profile"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Profile picture updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          },
          "400": {
            "description": "Bad request"
          },
          "401": {
            "description": "Unauthorized"
          },
          "500": {
            "description": "Server error"
          }
        }
      }
    }
  }
}